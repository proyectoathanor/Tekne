import{u as P,a as M,R as b,j as e,O as v,I as B,b as q,G as r,T as h,L as f,B as C,A as L,c as S,r as G,i as T,d as E,e as z,f as $,S as U,D as H,s as V}from"./index-ya0vuVcz.js";import{A as J,a as K,b as Q}from"./AuthFooter-DWj3Sdu-.js";import{u as N,F as X,c as Y,a as I}from"./useScriptRef-ClOpqYzE.js";import{d as Z,a as ee,F as te,C as re}from"./VisibilityOff-sJ3HkWZY.js";import{F as _,I as k,a as g}from"./InputLabel-C3c4yvLH.js";const ne=({loginProp:t,...i})=>{const s=P(),{login:o}=M(),l=N(),[a,c]=b.useState(!0),[j,A]=b.useState(!1),O=()=>{A(!j)},R=n=>{n.preventDefault()};return e.jsx(X,{initialValues:{email:"",password:"",submit:null},validationSchema:Y().shape({email:I().email("Must be a valid email").max(255).required("Email is required"),password:I().max(255).required("Password is required")}),onSubmit:async(n,{setErrors:u,setStatus:d,setSubmitting:m})=>{try{await o(n.email,n.password),l.current&&(d({success:!0}),m(!1))}catch(p){console.error(p),l.current&&(d({success:!1}),u({submit:p.message}),m(!1))}},children:({errors:n,handleBlur:u,handleChange:d,handleSubmit:m,isSubmitting:p,touched:x,values:y})=>e.jsxs("form",{noValidate:!0,onSubmit:m,...i,children:[e.jsxs(_,{fullWidth:!0,error:!!(x.email&&n.email),sx:{...s.typography.customInput},children:[e.jsx(k,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),e.jsx(v,{id:"outlined-adornment-email-login",type:"email",value:y.email,name:"email",onBlur:u,onChange:d,inputProps:{}}),x.email&&n.email&&e.jsx(g,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),e.jsxs(_,{fullWidth:!0,error:!!(x.password&&n.password),sx:{...s.typography.customInput},children:[e.jsx(k,{htmlFor:"outlined-adornment-password-login",children:"Password"}),e.jsx(v,{id:"outlined-adornment-password-login",type:j?"text":"password",value:y.password,name:"password",onBlur:u,onChange:d,endAdornment:e.jsx(B,{position:"end",children:e.jsx(q,{"aria-label":"toggle password visibility",onClick:O,onMouseDown:R,edge:"end",size:"large",children:j?e.jsx(Z,{}):e.jsx(ee,{})})}),inputProps:{},label:"Password"}),x.password&&n.password&&e.jsx(g,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),e.jsxs(r,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e.jsx(r,{item:!0,children:e.jsx(te,{control:e.jsx(re,{checked:a,onChange:F=>c(F.target.checked),name:"checked",color:"primary"}),label:"Keep me logged in"})}),e.jsx(r,{item:!0,children:e.jsx(h,{variant:"subtitle1",component:f,to:t?`/pages/forgot-password/forgot-password${t}`:"/pages/forgot-password/forgot-password3",color:"secondary",sx:{textDecoration:"none"},children:"Forgot Password?"})})]}),n.submit&&e.jsx(C,{sx:{mt:3},children:e.jsx(g,{error:!0,children:n.submit})}),e.jsx(C,{sx:{mt:2},children:e.jsx(L,{children:e.jsx(S,{color:"secondary",disabled:p,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign In"})})})]})})};var w={},se=T;Object.defineProperty(w,"__esModule",{value:!0});var W=w.default=void 0;ae(E);var oe=se(G()),ie=e;function D(t){if(typeof WeakMap!="function")return null;var i=new WeakMap,s=new WeakMap;return(D=function(o){return o?s:i})(t)}function ae(t,i){if(!i&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var s=D(i);if(s&&s.has(t))return s.get(t);var o={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var c=l?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=t[a]}return o.default=t,s&&s.set(t,o),o}W=w.default=(0,oe.default)((0,ie.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const pe=()=>{const t=P(),i=z(t.breakpoints.down("md")),o="https://proyectoathanor.github.io/",l=async()=>{try{await V.auth.signInWithOAuth({provider:"google",options:{redirectTo:o}})}catch(a){console.error("Error al iniciar sesión con Google:",a)}};return e.jsx(J,{children:e.jsxs(r,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(r,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(K,{children:e.jsxs(r,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(r,{item:!0,sx:{mb:3},children:e.jsx(f,{to:"#",children:e.jsx($,{})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{container:!0,direction:i?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:e.jsx(r,{item:!0,children:e.jsxs(U,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(h,{color:t.palette.secondary.main,gutterBottom:!0,variant:i?"h3":"h2",children:"Bienvenido"}),e.jsx(h,{variant:"caption",fontSize:"16px",textAlign:i?"center":"inherit",children:"Inicia sesión con google para comenzar"})]})})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(ne,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(H,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(S,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(W,{}),onClick:l,sx:{textTransform:"none",mt:2},children:"Sign in with Google"})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(h,{component:f,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:"Don't have an account?"})})})]})})})})}),e.jsx(r,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(Q,{})})]})})};export{pe as default};
