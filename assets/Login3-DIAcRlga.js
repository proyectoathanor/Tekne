import{u as P,a as M,R as b,j as e,O as v,I as B,b as L,G as r,T as x,L as f,B as C,A as q,c as W,r as E,i as G,d as T,e as $,f as z,S as H,D as U,s as V}from"./index-Cne7irgN.js";import{A as J,a as K,b as Q}from"./AuthFooter-tCw3zoyc.js";import{u as N,F as X,c as Y,a as I}from"./useScriptRef-YZ6zMvSU.js";import{d as Z,a as ee,F as te,C as re}from"./VisibilityOff-B9Wz6xNp.js";import{F as k,I as _,a as g}from"./InputLabel-DMs-LrAl.js";const ne=({loginProp:t,...a})=>{const s=P(),{login:o}=M(),l=N(),[i,c]=b.useState(!0),[j,A]=b.useState(!1),O=()=>{A(!j)},R=n=>{n.preventDefault()};return e.jsx(X,{initialValues:{email:"",password:"",submit:null},validationSchema:Y().shape({email:I().email("Must be a valid email").max(255).required("Email is required"),password:I().max(255).required("Password is required")}),onSubmit:async(n,{setErrors:u,setStatus:d,setSubmitting:m})=>{try{await o(n.email,n.password),l.current&&(d({success:!0}),m(!1))}catch(h){console.error(h),l.current&&(d({success:!1}),u({submit:h.message}),m(!1))}},children:({errors:n,handleBlur:u,handleChange:d,handleSubmit:m,isSubmitting:h,touched:p,values:y})=>e.jsxs("form",{noValidate:!0,onSubmit:m,...a,children:[e.jsxs(k,{fullWidth:!0,error:!!(p.email&&n.email),sx:{...s.typography.customInput},children:[e.jsx(_,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),e.jsx(v,{id:"outlined-adornment-email-login",type:"email",value:y.email,name:"email",onBlur:u,onChange:d,inputProps:{}}),p.email&&n.email&&e.jsx(g,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]}),e.jsxs(k,{fullWidth:!0,error:!!(p.password&&n.password),sx:{...s.typography.customInput},children:[e.jsx(_,{htmlFor:"outlined-adornment-password-login",children:"Password"}),e.jsx(v,{id:"outlined-adornment-password-login",type:j?"text":"password",value:y.password,name:"password",onBlur:u,onChange:d,endAdornment:e.jsx(B,{position:"end",children:e.jsx(L,{"aria-label":"toggle password visibility",onClick:O,onMouseDown:R,edge:"end",size:"large",children:j?e.jsx(Z,{}):e.jsx(ee,{})})}),inputProps:{},label:"Password"}),p.password&&n.password&&e.jsx(g,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]}),e.jsxs(r,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e.jsx(r,{item:!0,children:e.jsx(te,{control:e.jsx(re,{checked:i,onChange:F=>c(F.target.checked),name:"checked",color:"primary"}),label:"Keep me logged in"})}),e.jsx(r,{item:!0,children:e.jsx(x,{variant:"subtitle1",component:f,to:t?`/pages/forgot-password/forgot-password${t}`:"/pages/forgot-password/forgot-password3",color:"secondary",sx:{textDecoration:"none"},children:"Forgot Password?"})})]}),n.submit&&e.jsx(C,{sx:{mt:3},children:e.jsx(g,{error:!0,children:n.submit})}),e.jsx(C,{sx:{mt:2},children:e.jsx(q,{children:e.jsx(W,{color:"secondary",disabled:h,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign In"})})})]})})};var w={},se=G;Object.defineProperty(w,"__esModule",{value:!0});var S=w.default=void 0;ae(T);var oe=se(E()),ie=e;function D(t){if(typeof WeakMap!="function")return null;var a=new WeakMap,s=new WeakMap;return(D=function(o){return o?s:a})(t)}function ae(t,a){if(!a&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var s=D(a);if(s&&s.has(t))return s.get(t);var o={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var c=l?Object.getOwnPropertyDescriptor(t,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=t[i]}return o.default=t,s&&s.set(t,o),o}S=w.default=(0,oe.default)((0,ie.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");const he=()=>{const t=P(),a=$(t.breakpoints.down("md")),o=typeof window<"u"&&window.location.origin==="http://localhost:3000"?"http://localhost:3000/":"https://proyectoathanor.github.io/",l=async()=>{try{await V.auth.signInWithOAuth({provider:"google",options:{redirectTo:o}})}catch(i){console.error("Error al iniciar sesi√≥n con Google:",i)}};return e.jsx(J,{children:e.jsxs(r,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(r,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(K,{children:e.jsxs(r,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(r,{item:!0,sx:{mb:3},children:e.jsx(f,{to:"#",children:e.jsx(z,{})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{container:!0,direction:a?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:e.jsx(r,{item:!0,children:e.jsxs(H,{alignItems:"center",justifyContent:"center",spacing:1,children:[e.jsx(x,{color:t.palette.secondary.main,gutterBottom:!0,variant:a?"h3":"h2",children:"Hi, Welcome Back"}),e.jsx(x,{variant:"caption",fontSize:"16px",textAlign:a?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(ne,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(U,{})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(W,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(S,{}),onClick:l,sx:{textTransform:"none",mt:2},children:"Sign in with Google"})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(r,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(x,{component:f,to:"/register",variant:"subtitle1",sx:{textDecoration:"none"},children:"Don't have an account?"})})})]})})})})}),e.jsx(r,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(Q,{})})]})})};export{he as default};
