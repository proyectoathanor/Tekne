import{u as h,h as y,g as v,a as A,j as e,o as w,O as F,B as u,A as C,c as I,e as k,G as t,L as d,f as B,T as c,D as T}from"./index-CwMTKZix.js";import{A as D,a as E,b as P}from"./AuthFooter-Dr2p9ixo.js";import{u as L,F as M,c as S,a as W}from"./useScriptRef-CTkPXRGk.js";import{F as H,I as O,a as x}from"./InputLabel-CKGBLfvu.js";const R=({...n})=>{const o=h(),j=L(),p=y(),f=v(),{resetPassword:g}=A();return e.jsx(M,{initialValues:{email:"",submit:null},validationSchema:S().shape({email:W().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:async(s,{setErrors:l,setStatus:a,setSubmitting:i})=>{try{await g(s.email).then(()=>{a({success:!0}),i(!1),p(w({open:!0,message:"Check mail for reset password link",variant:"alert",alert:{color:"success"},close:!1})),setTimeout(()=>{f("/check-mail",{replace:!0})},1500)},r=>{a({success:!1}),l({submit:r.message}),i(!1)})}catch(r){console.error(r),j.current&&(a({success:!1}),l({submit:r.message}),i(!1))}},children:({errors:s,handleBlur:l,handleChange:a,handleSubmit:i,isSubmitting:r,touched:m,values:b})=>e.jsxs("form",{noValidate:!0,onSubmit:i,...n,children:[e.jsxs(H,{fullWidth:!0,error:!!(m.email&&s.email),sx:{...o.typography.customInput},children:[e.jsx(O,{htmlFor:"outlined-adornment-email-forgot",children:"Email Address / Username"}),e.jsx(F,{id:"outlined-adornment-email-forgot",type:"email",value:b.email,name:"email",onBlur:l,onChange:a,label:"Email Address / Username",inputProps:{}}),m.email&&s.email&&e.jsx(x,{error:!0,id:"standard-weight-helper-text-email-forgot",children:s.email})]}),s.submit&&e.jsx(u,{sx:{mt:3},children:e.jsx(x,{error:!0,children:s.submit})}),e.jsx(u,{sx:{mt:2},children:e.jsx(C,{children:e.jsx(I,{disableElevation:!0,disabled:r,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Send Mail"})})})]})})},V=()=>{const n=h(),o=k(n.breakpoints.down("md"));return e.jsx(D,{children:e.jsxs(t,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:e.jsx(t,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(E,{children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[e.jsx(t,{item:!0,sx:{mb:3},children:e.jsx(d,{to:"#",children:e.jsx(B,{})})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"center",textAlign:"center",spacing:2,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(c,{color:n.palette.secondary.main,gutterBottom:!0,variant:o?"h3":"h2",children:"Forgot password?"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(c,{variant:"caption",fontSize:"16px",textAlign:"center",children:"Enter your email address below and we'll send you password reset OTP."})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(R,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(T,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(t,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12,children:e.jsx(c,{component:d,to:"/login",variant:"subtitle1",sx:{textDecoration:"none"},children:"Already have an account?"})})})]})})})})}),e.jsx(t,{item:!0,xs:12,sx:{m:3,mt:1},children:e.jsx(P,{})})]})})};export{V as default};
